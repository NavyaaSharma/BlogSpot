{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{Hde0:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),o=n.n(r),c=n(\"5Yp1\"),a=n(\"vC6e\"),u=(n(\"YFqc\"),n(\"rePB\")),i=(n(\"nOHt\"),n(\"iuBY\")),s=n(\"abxw\"),l=o.a.createElement;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){var e=Object(r.useState)({name:\"\",error:!1,success:!1,categories:[],removed:\"\",reload:!1}),t=e[0],n=e[1],c=t.name,a=t.error,u=t.success,f=t.categories,d=t.removed,m=t.reload,b=Object(i.c)(\"token\");Object(r.useEffect)((function(){g()}),[m]);var g=function(){Object(s.b)(b).then((function(e){e.json().then((function(e){e.error?console.log(e.error):(console.log(e.payload),n(p(p({},t),{},{categories:e.payload})))}))}))},h=function(e){window.confirm(\"Are you sure you want to delete this category?\")&&j(e)},j=function(e){Object(s.c)(e,b).then((function(e){e.json().then((function(e){e.error?console.log(e.error):n(p(p({},t),{},{error:!1,success:!1,name:\"\",removed:!d,reload:!m}))}))}))},y=function(e){e.preventDefault(),Object(s.a)({name:c},b).then((function(e){e.error?n(p(p({},t),{},{error:e.error,success:!1})):n(p(p({},t),{},{error:!1,success:!1,name:\"\",removed:!d,reload:!m}))}))},O=function(e){n(p(p({},t),{},{name:e.target.value,error:!1,success:!1,removed:\"\"}))};return l(o.a.Fragment,null,function(){if(u)return l(\"p\",{className:\"text-success\"},\"Category is created\")}(),function(){if(a)return l(\"p\",{className:\"text-danger\"},\"Category already exist\")}(),function(){if(d)return l(\"p\",{className:\"text-danger\"},\"Category is removed\")}(),l(\"div\",{onMouseMove:function(e){n(p(p({},t),{},{error:!1,success:!1,removed:\"\"}))}},l(\"form\",{onSubmit:y},l(\"div\",{className:\"form-group\"},l(\"label\",{className:\"text-muted\"},\"Name\"),l(\"input\",{type:\"text\",className:\"form-control\",onChange:O,value:c,required:!0})),l(\"div\",null,l(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Create\"))),f.map((function(e,t){return l(\"button\",{onDoubleClick:function(){return h(e.slug)},title:\"Double click to delete\",key:t,className:\"btn btn-outline-primary mr-1 ml-1 mt-3\"},e.name)}))))},m=n(\"SMr6\"),b=o.a.createElement;function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(){var e=Object(r.useState)({name:\"\",error:!1,success:!1,tags:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,a=t.error,u=t.success,s=t.tags,l=t.removed,f=t.reload,p=Object(i.c)(\"token\");Object(r.useEffect)((function(){d()}),[f]);var d=function(){Object(m.b)(p).then((function(e){e.json().then((function(e){e.error?console.log(e.error):n(h(h({},t),{},{tags:e.payload}))}))}))},g=function(e){window.confirm(\"Are you sure you want to delete this tag?\")&&j(e)},j=function(e){Object(m.c)(e,p).then((function(e){e.json().then((function(e){e.error?console.log(e.error):n(h(h({},t),{},{error:!1,success:!1,name:\"\",removed:!l,reload:!f}))}))}))},y=function(e){e.preventDefault(),Object(m.a)({name:c},p).then((function(e){e.error?n(h(h({},t),{},{error:e.error,success:!1})):n(h(h({},t),{},{error:!1,success:!0,name:\"\",reload:!f,removed:!1}))}))},O=function(e){n(h(h({},t),{},{name:e.target.value,error:!1,success:!1,removed:!1}))};return b(o.a.Fragment,null,function(){if(u)return b(\"p\",{className:\"text-success\"},\"Tag is created\")}(),function(){if(a)return b(\"p\",{className:\"text-danger\"},\"Tag already exist\")}(),function(){if(l)return b(\"p\",{className:\"text-danger\"},\"Tag is removed\")}(),b(\"div\",{onMouseMove:function(e){n(h(h({},t),{},{error:!1,success:!1,removed:\"\"}))}},b(\"form\",{onSubmit:y},b(\"div\",{className:\"form-group\"},b(\"label\",{className:\"text-muted\"},\"Name\"),b(\"input\",{type:\"text\",className:\"form-control\",onChange:O,value:c,required:!0})),b(\"div\",null,b(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Create\"))),s.map((function(e,t){return b(\"button\",{onDoubleClick:function(){return g(e.slug)},title:\"Double click to delete\",key:t,className:\"btn btn-outline-primary mr-1 ml-1 mt-3\"},e.name)}))))},y=(n(\"TIwn\"),o.a.createElement);t.default=function(){return y(\"div\",{className:\"content1\"},y(c.a,null,y(a.a,null,y(\"div\",{className:\"container-fluid\"},y(\"div\",{className:\"row\"},y(\"div\",{className:\"col-md-12 pt-5 pb-5\"},y(\"h2\",null,\"Manage categories and tags\")),y(\"div\",{className:\"col-md-6\"},y(d,null)),y(\"div\",{className:\"col-md-6\"},y(j,null)))))))}},Pmoa:function(e,t){e.exports=next},SMr6:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u})),n.d(t,\"b\",(function(){return i})),n.d(t,\"d\",(function(){return s})),n.d(t,\"c\",(function(){return l}));var r=n(\"LpSC\"),o=n.n(r),c=n(\"obyI\"),a=n(\"iuBY\"),u=function(e,t){return o()(\"\".concat(c.a,\"/tag\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.d)(e),e})).catch((function(e){return console.log(e)}))},i=function(e){return o()(\"\".concat(c.a,\"/tags\"),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(e)}}).then((function(e){return e})).catch((function(e){return console.log(e)}))},s=function(e){return o()(\"\".concat(c.a,\"/tag/\").concat(e),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return o()(\"\".concat(c.a,\"/tag/\").concat(e),{method:\"DELETE\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then((function(e){return Object(a.d)(e),e})).catch((function(e){return console.log(e)}))}},abxw:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u})),n.d(t,\"b\",(function(){return i})),n.d(t,\"d\",(function(){return s})),n.d(t,\"c\",(function(){return l}));var r=n(\"LpSC\"),o=n.n(r),c=n(\"obyI\"),a=n(\"iuBY\"),u=function(e,t){return o()(\"\".concat(c.a,\"/category\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-type\":\"application/json\",Authorization:\"Bearer \".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.d)(e),e})).catch((function(e){console.log(e)}))},i=function(e){return o()(\"\".concat(c.a,\"/categories\"),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(e)}}).then((function(e){return console.log(e),e})).catch((function(e){return console.log(e)}))},s=function(e){return o()(\"\".concat(c.a,\"/category/\").concat(e),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return o()(\"\".concat(c.a,\"/category/\").concat(e),{method:\"DELETE\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then((function(e){return Object(a.d)(e),e})).catch((function(e){return console.log(e)}))}},nxd4:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/crud/category-tag\",function(){return n(\"Hde0\")}])},vC6e:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),o=n.n(r),c=n(\"nOHt\"),a=n.n(c),u=n(\"iuBY\"),i=o.a.createElement;t.a=function(e){var t=e.children;return Object(r.useEffect)((function(){Object(u.e)()?1!=Object(u.e)().role&&a.a.push(\"/\"):a.a.push(\"/signin\")}),[]),i(o.a.Fragment,null,t)}}},[[\"nxd4\",1,0,2,3]]]);","extractedComments":[]}