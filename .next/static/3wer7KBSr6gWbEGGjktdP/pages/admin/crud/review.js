(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{Pmoa:function(e,n){e.exports=next},bGhw:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),c=t.n(a),r=t("5Yp1"),o=t("vC6e"),s=t("YFqc"),i=t.n(s),u=(t("nOHt"),t("iuBY")),l=t("zycw"),b=(t("wd/R"),c.a.createElement),m=function(e){var n=e.username,t=Object(a.useState)([]),r=t[0],o=t[1],s=Object(a.useState)(""),m=s[0],d=s[1],f=Object(u.c)("token");Object(a.useEffect)((function(){w()}),[]);var w=function(){Object(l.b)(n).then((function(e){e.error?console.log(e.error):o(e)}))},h=function(e){window.confirm("Are you sure you want to reject this blog?")&&function(e){Object(l.g)(e,f).then((function(e){e.error?console.log(e.error):(d(e.message),w())}))}(e)},p=function(e){var n;window.confirm("Are you sure you want to publish this blog?")&&(n=e,Object(l.f)(n,f).then((function(e){console.log(e),e.error?console.log(e.error):(d(e.message),w())})))};return b(c.a.Fragment,null,b("div",{className:"row"},b("div",{className:"col-md-12"},m&&b("div",{className:"alert alert-primary"},m),r.map((function(e,n){var t="";if(0==e.isPublished)return t="Blog will be published after the admin reviews and publishes it",b("div",{key:n,className:"pb-5"},b("h3",null,e.title),b("p",{className:"mark"},"Written by ",b("a",{href:"/profile/".concat(e.postedBy.username)},e.postedBy.name)," | ",t),b("button",{className:" btn btn-sm btn-success",onClick:function(){return p(e.slug)}},"Publish"),b("button",{className:"ml-2 btn btn-sm btn-danger",onClick:function(){return h(e.slug)}},"Reject"),function(e){return Object(u.e)()&&0===Object(u.e)().role?b(i.a,{href:"/user/crud/".concat(e.slug)},b("a",{className:"ml-2 btn btn-sm btn-warning"},"Update")):Object(u.e)()&&1===Object(u.e)().role?b(i.a,{href:"/admin/crud/".concat(e.slug)},b("a",{className:"ml-2 btn btn-sm btn-warning"},"View/Make Changes")):void 0}(e))})))))},d=(t("TIwn"),c.a.createElement);n.default=function(){return d("div",{className:"content1"},d(r.a,null,d(o.a,null,d("div",{className:"container-fluid"},d("div",{className:"row"},d("div",{className:"col-md-12 pt-5 pb-5"},d("h2",null,"Review And Publish Blogs")),d("div",{className:"col-md-12"},d(m,null)))))))}},hCRo:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/review",function(){return t("bGhw")}])},vC6e:function(e,n,t){"use strict";var a=t("q1tI"),c=t.n(a),r=t("nOHt"),o=t.n(r),s=t("iuBY"),i=c.a.createElement;n.a=function(e){var n=e.children;return Object(a.useEffect)((function(){Object(s.e)()?1!=Object(s.e)().role&&o.a.push("/"):o.a.push("/signin")}),[]),i(c.a.Fragment,null,n)}}},[["hCRo",1,0,4,2,3,5]]]);